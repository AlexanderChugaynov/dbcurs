# Приложение интервального повторения (SM-2)

Графическое приложение на Python и Tkinter для работы с карточками по алгоритму SM-2 с хранением данных в PostgreSQL.

## Возможности

- Авторизация по email (создание пользователя при первом входе).
- Управление колодами и карточками (front/back, теги, фильтрация, удаление).
- Сессии повторения с оценкой качества от 0 до 5, пропуском и паузой карточки.
- Автоматический пересчёт расписания SM-2 и запись истории ревью.
- Просмотр прогресса по дням и по колодам с использованием графиков matplotlib.
- Автоматическое применение SQL-миграций и загрузка демо-данных при первом запуске.

## Установка

```bash
cd spaced_repetition_app
python -m venv venv
source venv/bin/activate  # или venv\\Scripts\\activate в Windows
pip install -r requirements.txt
```

## Настройка БД

1. Создайте файл `.env` на основе `.env.example` и пропишите параметры подключения к PostgreSQL.
2. Убедитесь, что PostgreSQL запущен и база данных доступна с указанными реквизитами.

## Запуск приложения

```bash
python app.py
```

При первом запуске приложение автоматически применит SQL-скрипты из каталога `sql/`.

## Использование

- В поле email введите адрес и нажмите «Войти». Новый пользователь будет создан автоматически.
- Используйте главное окно для перехода в менеджер колод, редактор карточек, модуль повторений и просмотр прогресса.
- Все изменения и результаты повторений сохраняются в PostgreSQL.

## Структура проекта

```
spaced_repetition_app/
  app.py
  db.py
  sm2.py
  models.py
  views/
    main_window.py
    deck_manager.py
    note_editor.py
    review_session.py
    progress_view.py
  sql/
    001_schema.sql
    002_demo_data.sql
  requirements.txt
  .env.example
  README.md
```

## Требования

- Python 3.11+
- PostgreSQL 16+
- Установленные зависимости из `requirements.txt`

